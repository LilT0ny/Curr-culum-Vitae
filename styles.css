/* ===== VARIABLES & TEMAS (MODIFICADO) ===== */
:root {
  /* Paleta de colores "Limpia / Corporativa" (Default: Light) */
  --bg: #F8F9FA;
  --text: #212529;
  --muted: #6C757D;
  --card: #FFFFFF;
  --line: #E0E0E0;
  --primary: #0A2540;   /* Azul profundo para títulos */
  --accent-1: #007BFF;   /* Acento principal */
  --accent-2-light: #0069D9;
  --chip-bg: #E9ECEF;
  --chip-text: #495057;

  --radius: 12px; /* Un radio más sutil */
  --gap: 1.5rem; /* Más espacio en blanco */
  --shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  --shadow-hover: 0 6px 16px rgba(0, 0, 0, 0.08);
  --transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Modo oscuro (Opcional, pero mantenemos tu lógica) */
.dark,
:root.dark {
  --bg: #121212;
  --text: #E0E0E0;
  --muted: #999999;
  --card: #1E1E1E;
  --line: #333333;
  --primary: #FFFFFF;
  --accent-1: #007BFF;
  --accent-2-light: #0069D9;
  --chip-bg: #2C2C2C;
  --chip-text: #CCCCCC;
  --shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  --shadow-hover: 0 6px 16px rgba(0, 0, 0, 0.2);
}

/* ===== RESET & BASE (MODIFICADO) ===== */
* { box-sizing: border-box; }

html, body {
  height: 100%;
  margin: 0;
  padding: 0;
}

body {
  /* Fuente MODIFICADA: Lato para el cuerpo */
  font-family: 'Lato', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.6; /* Altura de línea recomendada */
  font-size: 17px; /* Tamaño de fuente base */
  transition: background-color var(--transition), color var(--transition);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ===== CONTAINER ===== */
.wrap {
  max-width: 1040px;
  margin: 0 auto;
  padding: clamp(24px, 5vw, 40px); /* Más padding (espacio en blanco) */
  position: relative;
}

/* Fondo decorativo eliminado para un look más limpio */
.wrap::before { display: none; }

/* ===== HEADER (MODIFICADO) ===== */
header {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: var(--gap);
  align-items: center;
  margin-bottom: var(--gap);
  position: sticky;
  top: 0;
  background: var(--bg); /* Fondo sólido */
  padding: 1rem 0;
  z-index: 100;
  border-bottom: 1px solid transparent; /* Oculto hasta scroll */
  transition: var(--transition);
}

/* Header simplificado, sin blur */
header.scrolled {
  background: var(--card); /* Fondo sólido al hacer scroll */
  padding: 0.75rem 0;
  border-bottom: 1px solid var(--line);
  box-shadow: var(--shadow);
}

.header-left {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: clamp(16px, 3vw, 24px);
  align-items: center;
  min-width: 0;
}

/* ===== AVATAR (MODIFICADO) ===== */
.avatar {
  width: clamp(80px, 12vw, 96px);
  height: clamp(80px, 12vw, 96px);
  border-radius: 50%;
  object-fit: cover;
  flex-shrink: 0;
  /* Borde simple y limpio */
  border: 3px solid var(--accent-1);
  background: var(--card);
  padding: 3px;
  /* Animación de flotar eliminada */
}

.top { display: grid; gap: 0.5rem; min-width: 0; }

/* ===== TYPOGRAPHY (MODIFICADO) ===== */
.name {
  /* Fuente MODIFICADA: Montserrat para títulos */
  font-family: 'Montserrat', sans-serif;
  font-size: clamp(28px, 5vw, 40px);
  line-height: 1.15;
  margin: 0;
  font-weight: 700;
  /* Color sólido, sin gradiente */
  color: var(--primary);
  /* Animación de gradiente eliminada */
}

.title {
  color: var(--muted);
  margin: 0;
  font-weight: 500;
  font-size: clamp(16px, 2vw, 18px);
}

/* ===== LINKS (MODIFICADO) ===== */
.links {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  min-width: 0;
}

.links a {
  text-decoration: none;
  color: var(--muted); /* Color más sutil */
  border: 1px solid var(--line);
  background: var(--card);
  padding: 8px 14px;
  border-radius: 8px; /* Radio más estándar */
  font-size: 14px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  white-space: nowrap;
  transition: var(--transition);
  font-weight: 700;
}

/* Efecto hover sutil */
.links a:hover,
.links a:focus {
  color: var(--primary);
  border-color: var(--accent-1);
  background: var(--bg);
  transform: translateY(-2px);
  box-shadow: var(--shadow);
}

/* Botón PDF ahora es un botón de acento */
.links a#downloadPdfBtn {
  background: var(--accent-1);
  border-color: var(--accent-1);
  color: #FFFFFF;
}
.links a#downloadPdfBtn:hover {
  background: var(--accent-2-light);
  border-color: var(--accent-2-light);
  color: #FFFFFF;
}

/* Línea sutil bajo el enlace (eliminada por un hover más limpio) */
.links a::after { display: none; }


/* ===== THEME BUTTON (MODIFICADO) ===== */
.btn.theme {
  width: 44px;
  height: 44px;
  padding: 0;
  border-radius: 12px;
  display: flex; align-items: center; justify-content: center;
  font-size: 20px;
  position: relative;
  overflow: hidden;
  border: 1px solid var(--line);
  background: var(--card);
  color: var(--muted);
}
.btn.theme:hover {
  border-color: var(--accent-1);
  color: var(--accent-1);
}


/* ===== GRID (Sin cambios, ya era perfecto) ===== */
.grid { display: grid; gap: var(--gap); }

.grid > .card:nth-child(n+3) { grid-column: 1 / -1; }

@media (min-width: 768px) {
  .grid { grid-template-columns: 1.15fr 0.85fr; }
}

@media (min-width: 1200px) {
  .grid { grid-template-columns: 1.2fr 0.8fr; }
}

/* ===== CARDS (MODIFICADO) ===== */
.card {
  /* Estilo de tarjeta limpio: sin gradientes */
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  padding: clamp(20px, 3vw, 28px); /* Más padding */
  box-shadow: var(--shadow);
  transition: var(--transition);
}

/* Efecto hover sutil (principio 6) */
.card:hover {
  transform: translateY(-5px);
  box-shadow: var(--shadow-hover);
}

@media (max-width: 767px) {
  .card { padding: 20px; }
}

/* ===== HEADINGS (MODIFICADO) ===== */
h2 {
  /* Fuente MODIFICADA: Montserrat */
  font-family: 'Montserrat', sans-serif;
  font-size: 20px;
  letter-spacing: 0.2px;
  text-transform: none; /* Más limpio, menos "gritón" */
  color: var(--primary);
  margin: 0 0 1rem;
  display: flex; align-items: center; gap: 10px;
  font-weight: 700;
}

/* Decorador de título simplificado */
h2::before {
  content: '';
  width: 6px; height: 20px; border-radius: 3px;
  background: var(--accent-1);
  display: inline-block; flex-shrink: 0;
}

h3 {
  /* Fuente MODIFICADA: Montserrat */
  font-family: 'Montserrat', sans-serif;
  font-weight: 600;
  margin: 0;
  font-size: 18px;
  color: var(--primary);
}

.meta {
  color: var(--muted);
  font-size: 15px;
  margin-top: 4px;
}

/* ===== ITEMS / TIMELINE (MODIFICADO) ===== */
.items { display: grid; gap: 1.5rem; } /* Más espacio */

.item { position: relative; padding-left: 28px; }

/* Timeline simplificada */
.item:before {
  content: '';
  position: absolute; left: 4px; top: 6px;
  width: 12px; height: 12px; border-radius: 50%;
  background: var(--accent-1);
  box-shadow: 0 0 0 4px color-mix(in oklab, var(--accent-1), transparent 85%);
  transition: var(--transition);
}

.item:hover:before {
  transform: scale(1.1);
  box-shadow: 0 0 0 6px color-mix(in oklab, var(--accent-1), transparent 80%);
}

.item:after {
  content: '';
  position: absolute; left: 9px; top: 24px; bottom: -1.5rem;
  width: 2px;
  background: var(--line);
  transition: var(--transition);
}

.item:hover:after {
  background: var(--accent-1);
}

.item:last-child:after { display: none; }

.item ul {
  margin: 10px 0 0;
  padding-left: 20px;
  list-style: disc;
  color: var(--muted);
  font-size: 16px;
  line-height: 1.7;
}

.item li { margin: 6px 0; }

/* ===== CHIPS (MODIFICADO) ===== */
.chips { display: flex; flex-wrap: wrap; gap: 8px; }

.chip {
  /* Estilo de chip limpio */
  background: var(--chip-bg);
  color: var(--chip-text);
  padding: 6px 12px;
  font-size: 14px;
  border-radius: 6px;
  border: 1px solid var(--line);
  transition: var(--transition);
  cursor: default;
  font-weight: 700;
}

.chip:hover {
  transform: translateY(-2px);
  border-color: var(--accent-1);
  color: var(--primary);
  box-shadow: var(--shadow);
}

/* ===== BUTTONS (MODIFICADO) ===== */
.btn {
  appearance: none;
  border: 1px solid var(--line);
  background: var(--card);
  color: var(--primary);
  border-radius: 8px;
  padding: 10px 16px;
  font-weight: 700;
  font-size: 15px;
  cursor: pointer;
  transition: var(--transition);
  position: relative;
  overflow: hidden;
  font-family: 'Montserrat', sans-serif;
}

.btn:hover,
.btn:focus {
  transform: translateY(-2px);
  border-color: var(--accent-1);
  box-shadow: var(--shadow);
  color: var(--accent-1);
}

/* Botón de pie de página principal */
footer .btn:first-of-type {
  background: var(--accent-1);
  border-color: var(--accent-1);
  color: #FFFFFF;
}
footer .btn:first-of-type:hover {
  background: var(--accent-2-light);
  border-color: var(--accent-2-light);
  color: #FFFFFF;
}


.btn:active { transform: translateY(0); }
.btn.active { animation: pulse 0.3s ease-out; }

@keyframes pulse {
  0% { box-shadow: 0 0 0 0 color-mix(in oklab, var(--accent-1), transparent 50%); }
  100% { box-shadow: 0 0 0 10px color-mix(in oklab, var(--accent-1), transparent 100%); }
}

/* ===== FOOTER ===== */
footer {
  margin-top: var(--gap);
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  align-items: center;
}

/* ===== ANIMATIONS (Sin cambios, tu 'animations.css' funciona) ===== */
.reveal {
  opacity: 0;
  transform: translateY(14px) scale(0.985);
  will-change: transform, opacity;
}

.reveal.visible {
  animation: fadeUp 0.6s cubic-bezier(0.2, 0.6, 0.2, 1) both;
  animation-delay: var(--delay, 0ms);
}

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(14px) scale(0.985); }
  to   { opacity: 1; transform: translateY(0)    scale(1); }
}

/* ===== ACCESSIBILITY (Sin cambios) ===== */
@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; }
  .reveal, .reveal.visible, .chip, .links a, .btn { transform: none !important; }
}

/* ===== FOCUS STATES (MODIFICADO) ===== */
.links a:focus-visible,
.btn:focus-visible,
.chip:focus-visible {
  outline: 3px solid var(--accent-1);
  outline-offset: 2px;
}


/* ===== PRINT (Sin cambios, tus estilos de impresión ya eran excelentes) ===== */
@media print {
  html, body {
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
    background: #fff !important;
    color: #000 !important;
  }
  .grid { display: block !important; }
  .card, header, main, aside, section, footer {
    width: 100% !important;
    max-width: 100% !important;
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
  }
  header {
    position: static !important;
    background: transparent !important;
    border: none !important;
    -webkit-backdrop-filter: none !important;
    backdrop-filter: none !important;
    padding: 0 0 16px 0 !important;
    margin-bottom: 16px !important;
  }
  /* MODIFICADO: Ahora .name SÍ se imprime bien por defecto, 
     pero .name-print sigue siendo una buena práctica */
  .name {
    color: #000 !important;
    background: none !important;
    -webkit-background-clip: initial !important;
    background-clip: initial !important;
    -webkit-text-fill-color: #000 !important;
    text-shadow: none !important;
    filter: none !important;
  }
  .name-print {
    display: block !important;
    margin: 0 0 6px 0 !important;
    font-size: 32px !important;
    line-height: 1.15 !important;
    font-weight: 800 !important;
    color: #000 !important;
  }
  .reveal {
    animation: none !important;
    transform: none !important;
    opacity: 1 !important;
  }
  .card, section, article, header, h1, h2, h3 {
    break-inside: avoid;
    page-break-inside: avoid;
  }
  .avatar {
    float: none !important;
    margin: 0 auto 12px auto !important;
    display: block !important;
  }
  .top, .links {
    text-align: center !important;
    justify-content: center !important;
  }
  .btn, .theme, #printBtn, #downloadPdfBtn {
    display: none !important;
  }
  @page {
    margin: 12mm;
    size: auto;
  }
  .wrap::before { display: none !important; }
}


/* ===== RESPONSIVE (MODIFICADO) ===== */
@media (max-width: 640px) {
  .wrap { padding: 16px; }

  body { font-size: 16px; }

  header {
    grid-template-columns: 1fr;
    gap: 12px;
    margin-bottom: 16px;
    padding: 8px 0;
  }

  .header-left { grid-template-columns: 1fr; gap: 12px; }

  .avatar { margin: 0 auto; }
  .top { text-align: center; }
  .links { justify-content: center; }

  /* Botón de tema movido al header en móvil */
  .btn.theme {
    position: absolute; /* Relativo al header */
    top: 16px;
    right: 0px;
    box-shadow: none;
    width: 40px;
    height: 40px;
  }
}

/* ===== ESTILOS PARA ICONOS SVG (AÑADIR AL FINAL) ===== */

/* Esto apunta al tag <i> que le dijimos a Feather que reemplace.
  Le damos un tamaño y color por defecto.
*/
.links a i {
  /* Tamaño del icono */
  width: 16px;
  height: 16px;
  /* Espaciado entre icono y texto */
  margin-right: 6px; 
  /* Hereda el color del enlace (var(--muted)) */
  color: inherit;
  /* Asegura alineación vertical perfecta con el texto */
  vertical-align: middle;
  /* Baja el icono 1px para que se alinee mejor con el texto 'Lato' */
  position: relative;
  top: -1px;
}

/* Esto apunta al SVG que Feather crea DENTRO del tag <i>.
  Es importante para que el SVG herede el color correctamente.
*/
.links a svg {
  /* Hereda el tamaño del contenedor <i> */
  width: 100%;
  height: 100%;
  /* Hereda el color (stroke) del contenedor <i> */
  stroke: currentColor;
}

/* Estilo especial para el botón de PDF, para que el icono sea blanco
*/
.links a#downloadPdfBtn i {
  color: #FFFFFF;
}


/* ===== ESTILOS PARA BOTONES DE HEADER (AÑADIR) ===== */

/* Contenedor para los botones de idioma y tema */
.header-buttons {
  display: flex;
  gap: 12px;
}

/* Estilo para el botón de idioma, igual al de tema */
.btn#langToggle {
  width: 44px;
  height: 44px;
  padding: 0;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px; /* Un poco más pequeño para "EN" / "ES" */
  font-weight: 700;
  font-family: 'Montserrat', sans-serif;
  position: relative;
  overflow: hidden;
  border: 1px solid var(--line);
  background: var(--card);
  color: var(--muted);
}
.btn#langToggle:hover {
  border-color: var(--accent-1);
  color: var(--accent-1);
}

/* Ajuste para que los botones de header no estén pegajosos en móvil */
@media (max-width: 640px) {
  .header-buttons {
    /* Mueve los botones a la esquina superior */
    position: absolute;
    top: 16px;
    right: 0px;
    gap: 8px;
  }
  
  .btn.theme,
  .btn#langToggle {
    position: static; /* Quita el 'fixed' que tenía .btn.theme */
    box-shadow: none;
    width: 40px;
    height: 40px;
  }
}

/* ===== ESTILOS PARA ICONOS SVG DEL BOTÓN DE TEMA ===== */

/* 1. Contenedor (el propio botón) */
.btn.theme {
  /* Asegura que los iconos se queden dentro */
  position: relative; 
  /* Oculta los iconos mientras giran para entrar/salir */
  overflow: hidden; 
}

/* 2. Estilo base para AMBOS iconos (sol y luna) */
.btn.theme .theme-icon {
  /* Coloca los iconos en el centro exacto del botón */
  position: absolute;
  top: 50%;
  left: 50%;
  
  /* Hereda el color del botón (var(--muted)) */
  color: inherit; 
  
  /* Transición suave para opacidad y transformación */
  transition: var(--transition);

  /* Ajusta el tamaño del icono SVG que Feather crea */
  width: 20px;
  height: 20px;
}
.btn.theme .theme-icon svg {
  width: 100%;
  height: 100%;
  stroke: currentColor;
}


/* 3. ESTADO CLARO (POR DEFECTO) */

/* El sol (sun) está oculto: rotado y transparente */
.btn.theme .theme-icon.sun {
  opacity: 0;
  transform: translate(-50%, -50%) rotate(-180deg) scale(0.5);
}

/* La luna (moon) está visible: centrada y opaca */
.btn.theme .theme-icon.moon {
  opacity: 1;
  transform: translate(-50%, -50%) rotate(0deg) scale(1);
}


/* 4. ESTADO OSCURO (cuando el botón tiene la clase .theme-dark) */

/* El sol (sun) ahora está visible */
.btn.theme.theme-dark .theme-icon.sun {
  opacity: 1;
  transform: translate(-50%, -50%) rotate(0deg) scale(1);
}

/* La luna (moon) ahora está oculta */
.btn.theme.theme-dark .theme-icon.moon {
  opacity: 0;
  transform: translate(-50%, -50%) rotate(180deg) scale(0.5);
}